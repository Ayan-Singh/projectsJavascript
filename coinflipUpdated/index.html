<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin Flip Updated</title>
</head>
<body>
    <button onclick="playGame('Heads')">Heads</button>
    <button  onclick="playGame('Tails')">Tails</button>
    <button  onclick="
    localStorage.removeItem('score')
    score = { wins: 0, lose: 0 };
    ">Reset</button>
    <script>
           let score = JSON.parse(localStorage.getItem('score')) || { wins: 0, lose: 0}
        
        function playGame(pMove){
            let computerMove= pickComputerMove();
            let result=''
            if(pMove==='Heads'){
                if(computerMove==='Heads'){
                    result='Win'
                }else{
                    result='Lose'
                }
            }else{
                if(computerMove==='Tails'){
                    result='Win'
                }else{
                    result='Lose'
                }

            }
            if(result==='Win'){
                score.wins+=1
            }else{
                score.lose+=1
            }

            localStorage.setItem('score',JSON.stringify(score));

            return alert(`You choosed ${pMove} and computer choosed ${computerMove} So you ${result}
            Wins:${score.wins} Lose:${score.lose}` )
        }


        function pickComputerMove(){
            let probability = Math.random();
            let computerMove='';
            if(probability >=0 && probability <1/2){
                computerMove = "Heads"
            }else{
                computerMove="Tails"
            }
            return computerMove ; 
        }
    </script>
</body>
</html>